db.Customer.aggregate([
   {
     $lookup:
       {
         from: "Vendor",
         localField: "VendorId",
         foreignField: "_id",
         as: "vendor"
       }
  },
  { $unwind: "$vendor" }, // Unwind the array if VendorId references multiple vendors
  {
    $match: {
      "vendor.Active": true,
      "vendor.Deleted": { $ne: true },
      "vendor.CreatedOnUtc": { $gte: ISODate("2024-01-01") },
      "Approved":true,
       "Active": true,
        "Groups":"654a1f38ad7dfa659116faee"
    }
  },
  { $group: { _id: null, count: { $sum: 1 } } } // Count the documents
])
